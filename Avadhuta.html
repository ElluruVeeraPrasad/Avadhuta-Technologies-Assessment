<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URL Longer - Shortener</title>
    <style>
    	h2
    	{
    		font-weight: bold;
    	}
    	 .main_content .info{
  margin-top: 0px;
  margin-left: 50px;
  margin-right: 50px;
  color: black;
  line-height: 25px;
  border: 10px  ; 
        outline: 10px ; background-color: green;
        border-top-left-radius: 10px;
                  border-top-right-radius: 10px;
                  border-bottom-left-radius: 10px;
                  border-bottom-right-radius: 10px;
}

.main_content .info div{
  margin-bottom: 0px;

}
	</style>
</head>
<body>
	<center>
    <div class="main_content">
        <div class="info">
	<h2>URL Longer to Shortened</h2>
	<form id="url-form" onsubmit="handleFormSubmit(event)">
    <table>
      <tr>
        <td>
		<label for="long-url">
			
		        Enter a long URL:
	        
	    </label>
		</td>
    <td>
		<input type="text" id="long-url" name="long-url">
  </td>
  </tr>
		
    <tr>
		<input type="submit" value="Shorten URL" >
  </tr>
    <br>
    <tr>
		<p1>Shortened URL: </p1>
  </tr>
  </table>
</form>
<form>


	<h2>Decode Shortened URL</h2>
  <table>
  <tr>
    <td>
	<label for="short-url">Enter the shortened URL:</label>
</td>
<td>
	<input type="text" id="short-url" name="short-url">
</td>
</tr>
	<br>
  <tr>
    
	<button onclick="getOriginalURL()">Get Original URL</button>
</tr>

<tr>
	<p>Original URL: <span id="original-url"></span></p>
</tr>
  </table>
</form>
  </div>
</div>
</center>
	<script>
		const input = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
		const size = input.length;
		class URLShortener 
		{
			constructor() 
			{
				this.urlMap = new Map();
				this.shortUrlLength = 6; // customizable length for shortened URL
			}
			encodeURL (longURL) 
			{
				Let shortURL = '';
				do 
				{
					for (let i = 0; i < this.shortUrlLength; i++) 
					{
						const randomIndex = Math.floor(Math.random() * size);
						shortURL += input [randomIndex];
					} 
				} 
				while (this.urlMap.has(shortURL)); // ensure uniqueness
				this.urlMap.set(shortURL, longURL);
				return 'https://short.url/${shortURL}'; // assuming a domain for shortened URLS
		    }
		    decodeURL(shortURL) 
		    {
		    	const shortCode = shortURL.substring(shortURL.lastIndexOf('/') + 1); 
		    	if (this.urlMap.has(shortCode)) 
		    	{
		    	    return this.urlMap.get(shortCode); // return original Long URL
                }
                else 
                {
                	return "Short URL not found";
                }
            }
        }


// Example usage:

        const shortener = new URL Shortener();

// Function to handle form submission

        function handleFormSubmit(event) 
        {
            event.preventDefault(); // Prevent default form submission behavior
            const longURLInput = document.getElementById('long-url');
            const longURL = longURLInput.value;
            const shortenedURL = shortener.encodeURL (longURL);
            document.getElementById('shortened-url').innerText = shortenedURL;
        }
// Function to decode the shortened URL and display the original URL

        function getOriginalURL() 
        {
        	const shortURLInput = document.getElementById('short-url') value;
        	const originalURL = shortener.decodeURL (shortURLInput);
        	document.getElementById('original-url').innerText = originalURL;
        }
    </script>
  
  
</body>
</html>